!function(){"use strict";let t=new class{constructor(t=document.currentScript){this.script=t,this.issue=this.script.dataset.ghissue,this.target_el=document.querySelector(this.script.dataset.target),this.issue_url=`https://github.com/${this.script.dataset.ghissue}`,this.comments_url=`https://api.github.com/repos/${this.script.dataset.ghissue}/comments`}add_comments(){let t=new XMLHttpRequest,e=this;t.onload=function(){200!==t.status&&t.onerror(),e.inject(t.response)},t.onerror=function(){let t=document.createElement("p");t.innerHTML="<strong>Failed to load comments</strong>\n",e.target_el.appendChild(t)},t.responseType="json",t.open("GET",this.comments_url),t.setRequestHeader("Accept","application/vnd.github.v3.html+json"),t.send()}inject(t){let e=document.createElement("h3");e.innerText="Comments: "+t.length,this.target_el.appendChild(e);let s=document.createElement("p");s.className="github-comments-issue",s.innerHTML=`Leave a comment using <a href="${this.issue_url}#issue-comment-box">this GitHub issue</a>.`,this.target_el.appendChild(s);for(const[e,s]of Object.entries(t)){let t=document.createElement("div");t.className="github-comments-container";let e=new Date(s.created_at);e=e.toDateString().match(/^(\w{3}) (\w{3}) (\d{2}) (\d{4})$/),e=`${e[1]} ${e[3]} ${e[2]} ${e[4]}`,t.innerHTML=`\n\t\t\t\t<div class="github-comment">\n\t\t\t\t\t<img class="github-avatar" alt="Avatar for ${s.user.login}" src="${s.user.avatar_url}" />\n\t\t\t\t\t<div class="github-comment-header">\n\t\t\t\t\t\t<a class="github-comment-author" href="${s.user.html_url}">${s.user.login}</a> <span class="github-comment-date">${e}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="github-comment-content">\n\t\t\t\t\t\t${s.body_html}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`,this.target_el.appendChild(t)}}}(document.currentScript);if("IntersectionObserver"in window){let e=document.querySelector(document.currentScript.dataset.target),s=new IntersectionObserver((n=>{n.forEach((n=>{n.isIntersecting&&(t.add_comments(),s.unobserve(e))}))}),{rootMargin:"500px"});s.observe(e)}else t.add_comments()}();
